<html>
  <head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
<link rel="stylesheet" type ="text/css" href="//cdn.datatables.net/1.11.0/css/jquery.dataTables.min.css"/>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
	<script src=https://cdn.datatables.net/1.11.0/js/jquery.dataTables.min.js></script>
	<script src=https://cdn.datatables.net/buttons/2.0.0/js/dataTables.buttons.min.js></script>
		
  	<script type="text/javascript">
  		$(document).ready(function(){
 
  			
  			
  			$.ajax({
  				url:'items/getall',
  				method:'post',
  				dataType:'json',
  				success: function(data){
  					$('#studentTable').dataTable({
  					
  						data: data,
  						columns:[
  							{'data': "id"},
  							{'data': "islem"},
  							{'data': "miktar"},
  							{'data': "aciklama"},
  							{
  						      "data": null,
  						      "bSortable": false,
  						      "mRender": function(data, type, full) {
  						        return '<a class="btn btn-info btn-sm" href="http://localhost:8080/kayitguncelle.html?id=' + data.id + '">' + 'Güncelle' + '</a>';
  						     }},
  						   {
  	  						      "data": null,
  	  						      "bSortable": false,
  	  						      "mRender": function(data, type, full) {
  	  						        return '<button onclick=deleteitem('+data.id+')>' + 'sil' + '</button>';
  	  						     }},
  	  													
  						],
  						
  						

  						 dom: 'Bfrtip',
  				        buttons: [
  				            {
  				                text: 'YENÝ KAYIT',
  				                action: function ( e, dt, node, config ) {
  				                  window.location = "http://localhost:8080/yenikayit.html";
  				                }
  				            }
  				        ]
  					}) 
  				}
  		
  		});
  		});
  		 
  	  function deleteitem(obj) {
  		  
  		$.ajax({
		    	 method: 'DELETE',
				url :  "items/delete/"+obj,
				contentType: 'application/json',
			
				success : function(result) {
					 alert("sdf");
					
				},
				
			});
  		  
  	   
  	  }
  	   
  	</script>
    <title>Spring Proje</title>
  </head>

  
  <body style="font-family: Arial">

<h1 style="text-align:center;"><font face="tahoma" size="5" color="#574557">Tüm Kayýtlar</font><hr color ="3E570EA"></h1>


	<form id="form1" runat ="server">
		<table id="studentTable" >
			<thead>
				<tr><th> ID</th><th> Ýslem</th><th> miktar</th><th> aciklama</th><th> guncelle</th><th> sil</th>
			</thead>
		</table>
	</form>






</body>
</html>